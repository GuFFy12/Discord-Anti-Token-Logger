# Discord-anti-token-logger

Итак сегдня я раскажу как сделать из дискорда любой версии версию портабл с изменеными путям расположения файла с токеном.
После этих действий ваш файл с токенами будет недоступен для обычных токен логгеров дискорд.

РЕКОМЕНДУЕТСЯ УСТАНОВИТЬ ПАПКУ С ДИСКОРДОМ В ДРУГОЕ МЕСТО И ОБЯЗАТЕЛЬНО УДАЛИТЬ ФАЙЛЫ ДИСКОРДА В APPDATA (AppData/Roaming/discord and AppData/Local/Discord)

Вам предостовляется выбор:
1) Скачать готовую сборку с дискордом, установить ее и пользоваться. 
2) Скачать файл выше - напротив названия файла app.asar написанно для какой он версии дискорда.
3) Вручную распаковать app.asar, найти нужные файлы и строки, заменить их (мануал по этим операциям 
ниже).

Данный так назавем его патч включает в себя:
1) Изменение пути хранения файлов с токеном (по умолчанию appdata/roaming/discord) на директорию где установлен сам дискорд (Discord/data).
2) Отключение установки обновлений дискорда. Нужно это для того что бы патч в последствии не слетел при обновлении. 

Установка:

1) Удалить дискорд через встроенный деинсталятор Windows и удалить файлы AppData/Roaming/discord and AppData/Local/Discord. Готовую сборку скачать и установить. Запускаемся только с ярлыка который лежит в основной папке.

2) Файл app.asar установить в AppData/Local/Discord/app-(версия)/resources/ (заменить файл). После саму папку Discord желательно копировать в другое место и удалить дискорд через встроенный деинсталятор Windows и удалить файлы AppData/Roaming/discord and AppData/Local/Discord.

3) Вручную если вы не доверяете моему патчу.
  1. ```npm install -g asar```
  2. ```cd``` `Appdata/Local/Discord\app-(version)\resources`
  3. npx asar extract app app.asar
  4. В появившийся в этой директории папке app правим следующие файлы:
    4.1. app\common\moduleUpdater.js   ===>   Меняем   `skipHostUpdate = settings.get(SKIP_HOST_UPDATE) || !updatable;`   НА   `skipHostUpdate = true;`
    4.2. app\common\paths.js           ===>   Меняем   `userDataPath = determineUserData(userDataRoot, buildInfo);`       НА   `userDataPath = _path.default.join(_path.default.dirname(process.execPath), '..', '..', 'data');`
  5. `npx asar pack app app.asar`
  6. Запускаемся только с discord.exe который установлен в папке версии над которой вы провели манипуляции.
  7. После саму папку Discord желательно копировать в другое место и удалить дискорд через встроенный деинсталятор Windows и удалить файлы AppData/Roaming/discord and AppData/Local/Discord.

ПОСЛЕ УСТАНОВКИ ЗАКРОЙТЕ ДИСКОРД УДАЛИТЕ ФАЙЛЫ AppData/Roaming/discord and AppData/Local/Discord , ЗАТЕМ ЗАПУСТИТЕ DISCORD. КРОМЕ AppData/Roamaning/discord/Dictionaries НИЧЕГО ПОЯВИТСЯ НЕ ДОЛЖНО.




















# Dev logs

Меняет расположение папки дискорда впизду (Discord/data) и обычный дискорд токен логгер не должен грабить токены.

Пока что я думаю делать патчер основанный на нод жс который просто будет менять нужные строки в коде app.asar или же мутить полноценную версию дискорда с бд и шлюхами.

В планах добавить шифрование файлов leveldb и session storage что бы даже если злоумышленик знал расположение ему нихуя не досталось.

Так же было бы прикольно намутить проверку на сум хешей всей папки с дискорд.ехе (Discord/app-...)

Вся эта хуйня основанна на методах discord portable, который не обновлялся хуеву тучу лет.

ЗАБАВНЫЙ ФАКТ: из за того что у меня в ресурсах лежит запакованный файл app.asar, а не папка, на этой версии спокойно ставится better discord.

а ну и ps я хочу добавить кастом гифку загрузки дискорда и еще я заметил что создается папка с дискордом в roamaning и надо бы это тоже пофиксить)

Фикс лист!

1) Я хуй знает где открывается папка roamaning/discord, дошло до того что я попробовал добавить в core.asar те же строки что и в app.asar (userDataPath = ...) но это не помогло.
Ну и идите нахуй в этой паке всеравно нихуя нет так что сосите.
2) Приступаю к попытке зашивровать leveldb и session storage. Ну бля если б я шарил за эту хуйню то я бы сразу понял. Кароч электрон хуйня криптить файлы хуй знает как. Так что никак криптить не получится(
3) На счет проверки самого дискорда на наличие модуля с граббером, я считаю это ненужным.

ИИИИ

Ну бля я сделал обычный дискорд портабл. Даже не сделал а спастил из дискорд портабл методы и вставил их в свежую версию дискорд. Так что плюсы это свежая версия дискорд и то что на мой дискорд портабл можно поставить беттердискорд. Я думаю написать скрипт что бы из обычного дискорда сделать дискорд портабл. 
